<div class="panel panel-default">

    <div class="panel-heading">
        <button class="btn btn-primary" ng-click="newJob()">新增</button>
        <span style="margin-left: 10px;color: #ff0000;">请谨慎使用此功能!</span>
    </div>

    <table class="table">
        <tr>
            <th>ID</th>
            <th>类型</th>
            <th>子类型</th>
            <th>当前状态</th>
            <th>总数</th>
            <th>执行数</th>
            <th>成功数</th>
            <th>开始时间</th>
            <th>结束时间</th>
            <th>最后更新时间</th>
            <th>其他信息</th>
            <th>操作</th>
        </tr>
        <tbody>
        <tr ng-repeat="job in jobList">
            <label class="danger col-sm-2" data-ng-if="$index> 0"></label>
            <td>
                {{job.id}}
            </td>
            <td>
                {{job.type}}
            </td>
            <td>
                {{job.subType}}
            </td>
            <td>
                {{job.status}}
            </td>
            <td>
                {{job.total}}
            </td>
            <td>
                {{job.executeCount}}
            </td>
            <td>
                {{job.success}}
            </td>
            <td>
                {{job.startTime | tigerDatetime}}
            </td>
            <td>
                {{job.endTime | tigerDatetime}}
            </td>
            <td>
                {{job.updateTime | tigerDatetime}}
            </td>
            <td>
                {{job.otherInfo}}
            </td>
            <td>
                <div ng-if="job.status!='FINISHED'" class="btn-group" uib-dropdown>
                    <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle
                            ng-disabled="job.status=='CREATED'">
                        操作 <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                        <li ng-if="job.status=='SUSPEND'" role="menuitem"><a
                                ng-click="update(job.id,2)">开始</a></li>
                        <li ng-if="job.status=='ONGOING'" role="menuitem"><a ng-click="update(job.id,3)">停止</a></li>
                        <li ng-if="job.status=='SUSPEND'" role="menuitem"><a ng-click="update(job.id,4)">删除</a></li>
                    </ul>
                </div>
                <div ng-if="job.status=='FINISHED'" class="btn-group" uib-dropdown>
                    <button type="button" class="btn btn-primary" uib-dropdown-toggle
                            ng-disabled="disabled">
                        操作 <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                        <li role="menuitem"><a ng-click="update(job.id,4)">删除</a></li>
                    </ul>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
